\documentclass[11pt]{article}
\usepackage{fullpage}
\usepackage{algorithm}
\usepackage[noend]{algorithmic}
\usepackage{enumerate}
\usepackage{amsmath,amssymb,amsthm}
\usepackage{stackrel}

% Helpful Shortcuts
\newcommand{\bc}[1]{{\quad \text{(#1)}}} 	% Justification in math env
\newcommand{\st}{{\text{ such that }}} 							   % Math env
\newcommand{\abs}[1]{{ |#1 |}} 							% Absolute value / Cardinality
\newcommand{\bld}[2]{\noindent\textbf{#1:}\hspace{0.1in}#2$  $\bigskip} % Headings
\newcommand{\notimplies}{%
	\mathrel{{\ooalign{\hidewidth$\not\phantom{=}$\hidewidth\cr$\implies$}}}}
\newcommand{\linesep}{\noindent\bigskip\rule{17cm}{0.1mm}\bigskip} % Horizontal Line

% These define new environments / formats for lemmas, definitions, running time, etc.
\newtheorem{lemma}{Lemma}
\newtheorem{definition}{Definition}
\newtheorem{notation}{Notation}
\newtheorem*{claim}{Claim}
\newtheorem{observation}{Observation}
\newtheorem{conjecture}[lemma]{Conjecture}
\newtheorem{theorem}[lemma]{Theorem}
\newtheorem{corollary}[lemma]{Corollary}
\newtheorem{proposition}[lemma]{Proposition}
\newtheorem*{rt}{Running Time}

% These define nice ways to format P and OPT (use \P or \opt)
\def\P{\ensuremath{$ \mathcal{P} $}}
\def\opt{\ensuremath{\textsc{opt}}}
\renewcommand{\labelenumi}{\bf \alph{enumi}.}

\renewcommand\maketitle{
	\begin{center}
		\begin{tabular*}{6.44in}{l @{\extracolsep{\fill}}c r}
			\bfseries  &  & \bfseries CSCI 383 Spring 2019 \\
			\bfseries&  & \bfseries  Homework \#4 Solutions  \\
			\bfseries   &   &  \bfseries Kai Ting Keshia Yap\\ 
		\end{tabular*}
\end{center} }

\begin{document}
	\maketitle
	
	\noindent Honor Code: I affirm that I adhered to the Honor Code in this assignment. Keshia Yap\\
	
	\subsection*{Part  1: Pump It Up}

	For each of the DFAs below, let $ s $ denote the start state, $ F $ denote the set of final states, and assume that each of the DFAs have $ k >0$ states. Note that $ k $ characters are read by $ k+1 $ (possibly repeated) states. We will prove that none of the languages $ L_1,L_2,L_3 $ are regular.
	
	\begin{enumerate}
		\item $ L_1=\{f+g=h\mid \text{where }f,g,\text{ and }h \text{ are integers in binary, and }h \text{ is the sum of }f\text{ and }g\} $
		
		\begin{proof}
			Suppose $ L_1 $ is regular with DFA $ M_1 $ such that $ L(M_1)=L_1 $. Then $ M_1 $ accepts \[\underbrace{111...1}_{k \text{ times}}+0= \underbrace{111...1}_{k \text{ times}},\] where $ f=1^k $, $ g=1 $ and $ h=1(0^k) $. By pigeon-hole principle, there exists a state $ q $ and integers $ 0\leq i<j \leq k$ such that $ \hat{\delta}(s,1^i) =\hat{\delta}(s,1^j)=q$. Let $ u=1^i$ ,  $v=1^{j-i}$ ,  $w=1^{k-j}$, so $ f=uvw $. Substituting notation, we have $ \hat{\delta}(s,u) =\hat{\delta}(s,uv)=q$. \\
%			By a corollary from class, $ \hat{\delta}(\hat{\delta}(s,u),v)=q $ which implies that $ \hat{\delta}(q,v) =q$. \\
			
			Let $ z $ be the string $ +g=h $. Then $ \hat{\delta}(s, uwz)=\hat{\delta}(\hat{\delta}(s, u), wz)=\hat{\delta}(\hat{\delta}(s, uv), wz)=\hat{\delta}(s, uvwz)=\hat{\delta}(s, f+g=h)\in F$, so $ uwz $ is accepted by $ M_1 $. However $ uw $ has $ k-(j-i) <k$ 1's and the binary addition expression $ 1^{k-(j-i)}+0=1^k $ is not true since $ i<j\implies k-(j-i)<k $.
		\end{proof}
	
		\item $ L_2=\{x\in\{a,b\}^*\mid x\text{ is a palindrome}\} $
		\begin{proof}
			Suppose $ L_2 $ is regular with DFA $ M_2 $ such that $ L(M_2)=L_2 $. Then $ M_2$ accepts \[a_1a_2a_3\dots a_k a_{k+1} a_k a_{k-1}\dots a_1\quad\text{ where for all }1\leq n\leq k, a_n\in\{a,b\}^*.\] 
			
			Let $ y= a_1 a_2 a_3 \dots a_{k+1}$ and $ z= a_{k}\dots a_1$. By pigeon-hole principle, there exists a state $ q $ and integers $ 1\leq i<j \leq k+1$ such that $ \hat{\delta}(s,a_1\dots a_i) =\hat{\delta}(s,a_1\dots a_j)=q$. Let $ u=a_1\dots a_i$ ,  $v=a_{i+1}\dots a_j$ ,  $w=a_{j+1}\dots a_{k+1}$, so that $ y=uvw $ and the string above is $ uvwz $. \\
			
			Substituting notation, we have $ \hat{\delta}(s,u) =\hat{\delta}(s,uv)=q$. Then $ \hat{\delta}(s, uwz)=\hat{\delta}(\hat{\delta}(s, u), wz)=\hat{\delta}(\hat{\delta}(s, uv), wz)=\hat{\delta}(s, uvwz)\in F$, so $ uwz $ is accepted by $ M_2 $. However, since we can arbitrarily choose $ a_n $ for all $ n\in [1,k+1] $, consider $ a_1=a_2=...=a_k=a $, $ a_{k+1} =b$. Then  \[uwz=\underbrace{aa...aa}_{k-(j-i)\text{ times}}b\underbrace{aa...aa}_{k\text{ times}}\] is not a palindrome since $ i<j\implies k-(j-i)<k $.
		\end{proof}
	
		\newpage
		\item $ L_3=\{a^p\mid p\text{ is prime}\} $
			\begin{proof}
			Suppose $ L_3 $ is regular with DFA $ M_3 $ such that $ L(M_3)=L_3 $. Then $ M_3$ accepts $ a^p $ where $ p $ is a prime larger than $ k $, and that none of $ p+1,p+2,\dots, p+k $ are prime (which exists due to the fact referred to in the question).
			
			Let $ y=a^k$ and $ z= a^{p-k}$. By pigeon-hole principle, there exists a state $ q $ and integers $ 0\leq i<j \leq k$ such that $ \hat{\delta}(s,a^i) =\hat{\delta}(s,a^j)=q$. Let $ u=a^i$ ,  $v=a^{j-i}$ , $ w=a^{k-j} $ and $ y=uvw$. \\
%			By a corrollary from class, $ \hat{\delta}(s,uv) =\hat{\delta}(\hat{\delta}(s,u),v)=q$ so $ \hat{\delta}(q,v) =q$. 

			Substituting notation, we have $ \hat{\delta}(s,u) =\hat{\delta}(s,uv)=q$. Then \[ \hat{\delta}(s, uv^2wz)=\hat{\delta}(\hat{\delta}(s, uv), vwz)=\hat{\delta}(\hat{\delta}(s, u),vwz)=\hat{\delta}(s, uvwz)=\hat{\delta}(a^p)\in F,\] so $ uv^2wz $ is accepted by $ M_3 $. However, \[uv^2wz=(a^{i})(a^{j-i})^2(a^{k-j})(a^{p-k}) =a^{p+j-i},\] but \begin{align*}
				  0\leq i<j\leq k&\implies 0<j-i\leq k-i\leq k \\
				  &\implies j-i\in [1,k]\\
				  &\implies p+(j-i)\in [p+1,p+k] 
			\end{align*} which by assumption is not prime.
		\end{proof}
	\end{enumerate}	
\end{document}
